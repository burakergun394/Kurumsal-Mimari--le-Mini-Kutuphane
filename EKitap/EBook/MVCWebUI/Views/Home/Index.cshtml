@model HomeViewModel

@{
    ViewData["Title"] = "Home Page";
}
<link href="~/css/home.css" rel="stylesheet" media="screen" />


<div class="card-row">
    @foreach (var item in Model.Books.Take(Model.Books.Count / 3))
    {
        <div class="card-book">
            <div class="card-book-detail">
                <a asp-controller="Home" asp-action="Book" asp-route-Id="@item.Id">
                    <img src="@Model.BookImages.Find(c => c.BookId == item.Id).Path" />
                    <p>@item.Name</p>
                </a>
            </div>
            <div class="card-book-category">
                @foreach (var categories in Model.BookCategoriesList.FindAll(c => c.BookId == item.Id))
                {
                    @foreach (var category in Model.Categories.FindAll(c => c.Id == categories.CategoryId))
                    {
                        @if (category.Id == 1)
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">Kitabın kategorisi eklenilmemiştir.</a>
                        }
                        else
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">@category.Name</a>
                        }
                    }
                }
            </div>
        </div>
    }
</div>
@{ var counter = 0;}
<div class="card-row">
    @foreach (var item in Model.Books.Skip(Model.Books.Count / 3))
    {
        @if (counter == 6) { break; }
        counter++;
        <div class="card-book">
            <div class="card-book-detail">
                <a asp-controller="Home" asp-action="Book" asp-route-Id="@item.Id">
                    <img src="@Model.BookImages.Find(c => c.BookId == item.Id).Path" />
                    <p>@item.Name</p>
                </a>
            </div>
            <div class="card-book-category">
                @foreach (var categories in Model.BookCategoriesList.FindAll(c => c.BookId == item.Id))
                {
                    @foreach (var category in Model.Categories.FindAll(c => c.Id == categories.CategoryId))
                    {
                        @if (category.Id == 1)
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">Kitabın kategorisi eklenilmemiştir.</a>
                        }
                        else
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">@category.Name</a>
                        }
                    }
                }
            </div>
        </div>
    }
</div>
<div class="card-row">
    @foreach (var item in Model.Books.Skip((Model.Books.Count / 3) * 2))
    {
        <div class="card-book">
            <div class="card-book-detail">
                <a asp-controller="Home" asp-action="Book" asp-route-Id="@item.Id">
                    <img src="@Model.BookImages.Find(c => c.BookId == item.Id).Path" />
                    <p>@item.Name</p>
                </a>
            </div>
            <div class="card-book-category">
                @foreach (var categories in Model.BookCategoriesList.FindAll(c => c.BookId == item.Id))
                {
                    @foreach (var category in Model.Categories.FindAll(c => c.Id == categories.CategoryId))
                    {
                        @if (category.Id == 1)
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">Kitabın kategorisi eklenilmemiştir.</a>
                        }
                        else
                        {
                            <a asp-action="Category" asp-controller="Home" asp-route-Id="@category.Id">@category.Name</a>
                        }
                    }
                }
            </div>
        </div>

    }
</div>
